{% extends 'base.html' %}

{% block title %}Lista de Asignaturas - {{ block.super }}{% endblock %}

{% block content %}
<style>
  /* Estilos para la tabla */
  .table-asignaturas th, .table-asignaturas td {
    padding: 8px; /* Espaciado interno en celdas */
    text-align: left; /* Alineación del texto a la izquierda */
    vertical-align: top; /* Alineación vertical en la parte superior */
    white-space: nowrap; /* Evita que el contenido se divida en varias líneas */
  }
  .table-asignaturas th {
    background-color: #f8f9fa; /* Color de fondo para los encabezados de tabla */
    position: sticky;
    top: 0;
  }
  .table-asignaturas td.horarios {
    white-space: normal; /* Permite que los horarios se muestren en líneas separadas */
    max-width: 200px; /* Máximo ancho para la columna de horarios */
  }
  .table-asignaturas td.acciones {
    white-space: nowrap; /* Mantiene las acciones en una sola línea */
  }
</style>

<h2>Lista de Asignaturas</h2>
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <table class="table table-striped table-asignaturas">
        <thead>
          <tr>
            <th>Título</th>
            <th>Profesor</th>
            <th>Descripción</th>
            <th>Tipo</th>
            <th>Modalidad</th>
            <th>URL Clases Grabadas</th>
            <th>Horario</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% for asignatura in subjects %}
          <tr>
            
            <td class="nowrap"><a href="{% url 'detail_subject' asignatura.pk %}">{{ asignatura.titulo }}</a></td>
            <td>{{ asignatura.profesor }}</td>
            <td>{{ asignatura.descripcion }}</td>
            <td>{{ asignatura.tipo_asignatura }}</td>
            <td>{{ asignatura.modalidad }}</td>
            <td>{{ asignatura.url_clases_grabadas|default:"No Disponible" }}</td>
            <td class="horarios">
              {% for horario in asignatura.horarios_list %}
              {{ horario }}<br>
              {% endfor %}
            </td>
            <td class="acciones">
              <a href="{% url 'update_subject' asignatura.pk %}" class="btn btn-primary btn-sm">Editar</a>
              <a href="{% url 'delete_subject' asignatura.pk %}" class="btn btn-danger btn-sm">Eliminar</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

<a href="{% url 'create_subject' %}" class="btn btn-primary">Crear nueva asignatura</a>
{% endblock %}




